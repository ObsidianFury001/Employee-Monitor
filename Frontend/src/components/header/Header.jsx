import React from 'react'
import { useEffect, useState } from 'react'
import { Button } from "@/components/ui/button"
import { LogOut, Sun, Moon } from 'lucide-react';
import { ThemeProvider } from "@/components/theme-provider"
import { useNavigate } from 'react-router-dom';

function Logo() {
	return (
			<svg xmlns="http://www.w3.org/2000/svg" width="512" height="160" viewBox="0 0 512 160" style={{ overflow: 'hidden'}}
				data-bbox="48 195.063 416 121.874"
				className='absolute flex justify-center items-center w-40 md:w-52'>
				{/* <rect data-uid="o_fbk1ae922_8" data-fl-background="" x="0" y="0" width="512" height="160" fill="#0f0b38"></rect> */}
				<defs transform="matrix(0.9486423239214371, 0, 0, 0.9486423239214371, 13.1476009128976, 13.14759779707157)"
					data-uid="o_fbk1ae922_9">
					<linearGradient x1="0%" y1="50%" x2="100%" y2="50%" id="o_fbk1ae922_5" gradientUnits="objectBoundingBox"
						data-uid="o_fbk1ae922_10">
						<stop offset="0%" stopColor="rgb(36, 198, 220)" stopOpacity="1.00" data-uid="o_fbk1ae922_11"></stop>
						<stop offset="100%" stopColor="rgb(60, 46, 220)" stopOpacity="1.00" data-uid="o_fbk1ae922_12"></stop>
					</linearGradient>
					<linearGradient x1="0%" y1="50%" x2="100%" y2="50%" id="o_fbk1ae922_6" gradientUnits="objectBoundingBox"
						data-uid="o_fbk1ae922_13">
						<stop offset="0%" stopColor="rgb(48, 120, 220)" stopOpacity="1.00" data-uid="o_fbk1ae922_14"></stop>
						<stop offset="100%" stopColor="rgb(60, 46, 220)" stopOpacity="1.00" data-uid="o_fbk1ae922_15"></stop>
					</linearGradient>
				</defs>
				<g fill="url(#o_fbk1ae922_5)"
					// transform="matrix(0.6540854645240549, 0, 0, 0.6540854645240549, 0.37415258121098915, 88.55411968849818)"
					transform="matrix(0.6540854645240549, 0, 0, 0.6540854645240549, 0.37415258121098915, -88.55411968849818)"
					data-uid="o_fbk1ae922_16">
					<path fill="url(#o_fbk1ae922_6)" d="M114.505 60.469c1.709 1.709 4.479 1.709 6.187 0c1.709-1.709 1.709-4.479 0-6.187
			c-1.709-1.709-4.479-1.709-6.187 0C112.797 55.99 112.797 58.76 114.505 60.469z"
						transform="matrix(2.701612710952759, 0, 0, 2.701612710952759, -147.50852966308594, 53.376678466796875)"
						data-uid="o_fbk1ae922_17"></path>
					<path fill="url(#o_fbk1ae922_5)" d="M98.202 70.584L79.087 89.7c-1.709 1.708-1.709 4.479 0 6.188c1.708 1.708 4.479 1.708 6.188 0l8.078-8.079
			c0.666-0.494 1.608-0.446 2.213 0.158c0.664 0.664 0.682 1.76 0.018 2.424l-5.914 5.914c-1.709 1.709-1.709 4.479 0 6.188
			c1.708 1.709 4.479 1.709 6.188 0l16.485-16.485c0.664-0.664 1.742-0.664 2.406 0c0.664 0.664 0.664 1.742 0 2.406l-1.018 1.018
			c-1.709 1.709-1.709 4.479 0 6.187c1.708 1.709 4.479 1.709 6.188 0l6.914-6.914c1.709-1.708 1.709-4.479 0-6.188
			c-1.709-1.708-4.479-1.708-6.188 0l-1.002 1.002c-0.664 0.664-1.742 0.664-2.406 0c-0.664-0.665-0.664-1.742 0-2.406l10.33-10.33
			c1.709-1.708 1.709-4.479 0-6.187c-1.708-1.708-4.479-1.708-6.187 0l-20.902 20.902c-0.664 0.664-1.76 0.647-2.424-0.018
			c-0.604-0.604-0.653-1.546-0.158-2.212l13.297-13.297c1.709-1.708 1.709-4.479 0-6.187c-1.708-1.708-4.479-1.708-6.188 0
			l-2.516 2.516c-0.652 0.381-1.5 0.298-2.058-0.261c-0.664-0.664-0.682-1.76-0.018-2.424l9.919-9.919
			c1.709-1.708 1.709-4.479 0-6.188c-1.708-1.708-4.479-1.708-6.187 0L87.658 63.993c-0.664 0.664-1.742 0.664-2.406 0
			c-0.664-0.664-0.664-1.742 0-2.406l4.627-4.627c1.708-1.708 1.708-4.479 0-6.187c-1.709-1.708-4.479-1.708-6.187 0L73.168 61.296
			c-1.709 1.708-1.709 4.479 0 6.188c1.708 1.708 4.479 1.708 6.188 0l1.002-1.002c0.664-0.664 1.742-0.664 2.406 0
			c0.664 0.665 0.664 1.742 0 2.406l-10.33 10.33c-1.708 1.708-1.708 4.479 0 6.188c1.709 1.708 4.479 1.708 6.187 0l16.897-16.897
			c0.664-0.664 1.76-0.647 2.424 0.018C98.5 69.085 98.583 69.933 98.202 70.584z"
						transform="matrix(2.701612710952759, 0, 0, 2.701612710952759, -147.50852966308594, 53.376678466796875)"
						data-uid="o_fbk1ae922_18"></path>
				</g>
				<path text="EmployeeX" fill="#24c6dc" space="preserve" textAnchor="start" offset="0" 
					fontSize="48" fontFamily="Nunito" fontSizeAdjust={.5}
					// transform="matrix(1.5721650296633687, 0, 0, 1.5721650296633687, 141.8504163213713, 275.8092799734918)"
					transform="matrix(1.5721650296633687, 0, 0, 1.5721650296633687, 141.8504163213713, 105.8092799734918)"
					fontStyle="normal" fontWeight="400" letterSpacing="-3" data-fl-textpath="" data-uid="o_fbk1ae922_19"
					d="M 6.19 0Q 5.28 0  4.73-0.53Q 4.18-1.06  4.18-1.92L 4.18-1.92L 4.18-31.92Q 4.18-32.78  4.73-33.31Q 5.28-33.84  6.19-33.84L 6.19-33.84L 24.14-33.84Q 25.01-33.84  25.49-33.41Q 25.97-32.98  25.97-32.21L 25.97-32.21Q 25.97-31.44  25.49-31.01Q 25.01-30.58  24.14-30.58L 24.14-30.58L 8.06-30.58L 8.06-18.82L 23.18-18.82Q 24.05-18.82  24.53-18.38Q 25.01-17.95  25.01-17.18L 25.01-17.18Q 25.01-16.42  24.53-15.98Q 24.05-15.55  23.18-15.55L 23.18-15.55L 8.06-15.55L 8.06-3.26L 24.14-3.26Q 25.01-3.26  25.49-2.86Q 25.97-2.45  25.97-1.63L 25.97-1.63Q 25.97-0.86  25.49-0.43Q 25.01 0  24.14 0L 24.14 0L 6.19 0ZM 54.556-23.95Q 62.326-23.95  62.326-14.69L 62.326-14.69L 62.326-1.68Q 62.326-0.77  61.796-0.26Q 61.276 0.24  60.406 0.24L 60.406 0.24Q 59.546 0.24  58.996-0.26Q 58.436-0.77  58.436-1.68L 58.436-1.68L 58.436-14.59Q 58.436-17.81  57.286-19.25Q 56.136-20.69  53.686-20.69L 53.686-20.69Q 50.756-20.69  49.076-18.72Q 47.396-16.75  47.396-13.39L 47.396-13.39L 47.396-1.68Q 47.396-0.77  46.846-0.26Q 46.296 0.24  45.436 0.24L 45.436 0.24Q 44.566 0.24  44.036-0.26Q 43.516-0.77  43.516-1.68L 43.516-1.68L 43.516-14.59Q 43.516-17.81  42.356-19.25Q 41.206-20.69  38.716-20.69L 38.716-20.69Q 35.836-20.69  34.126-18.72Q 32.426-16.75  32.426-13.39L 32.426-13.39L 32.426-1.68Q 32.426-0.77  31.896-0.26Q 31.366 0.24  30.506 0.24L 30.506 0.24Q 29.636 0.24  29.086-0.26Q 28.536-0.77  28.536-1.68L 28.536-1.68L 28.536-21.94Q 28.536-22.8  29.086-23.33Q 29.636-23.86  30.506-23.86L 30.506-23.86Q 31.316-23.86  31.846-23.35Q 32.376-22.85  32.376-21.98L 32.376-21.98L 32.376-19.68Q 33.436-21.74  35.306-22.85Q 37.176-23.95  39.626-23.95L 39.626-23.95Q 45.096-23.95  46.776-19.34L 46.776-19.34Q 47.786-21.46  49.846-22.7Q 51.916-23.95  54.556-23.95L 54.556-23.95ZM 78.192-23.95Q 81.262-23.95  83.612-22.42Q 85.972-20.88  87.262-18.12Q 88.562-15.36  88.562-11.71L 88.562-11.71Q 88.562-8.06  87.262-5.35Q 85.972-2.64  83.642-1.15Q 81.312 0.34  78.192 0.34L 78.192 0.34Q 75.452 0.34  73.412-0.86Q 71.372-2.06  70.322-4.27L 70.322-4.27L 70.322 7.01Q 70.322 7.87  69.812 8.38Q 69.312 8.88  68.402 8.88L 68.402 8.88Q 67.492 8.88  66.962 8.35Q 66.432 7.82  66.432 7.01L 66.432 7.01L 66.432-21.94Q 66.432-22.8  66.962-23.33Q 67.492-23.86  68.402-23.86L 68.402-23.86Q 69.312-23.86  69.812-23.33Q 70.322-22.8  70.322-21.94L 70.322-21.94L 70.322-19.34Q 71.372-21.55  73.412-22.75Q 75.452-23.95  78.192-23.95L 78.192-23.95ZM 77.422-2.88Q 80.832-2.88  82.702-5.18Q 84.572-7.49  84.572-11.71L 84.572-11.71Q 84.572-15.94  82.702-18.31Q 80.832-20.69  77.422-20.69L 77.422-20.69Q 74.012-20.69  72.172-18.38Q 70.322-16.08  70.322-11.81L 70.322-11.81Q 70.322-7.54  72.172-5.21Q 74.012-2.88  77.422-2.88L 77.422-2.88ZM 93.338 0.24Q 92.468 0.24  91.918-0.26Q 91.368-0.77  91.368-1.68L 91.368-1.68L 91.368-32.16Q 91.368-33.07  91.918-33.58Q 92.468-34.08  93.338-34.08L 93.338-34.08Q 94.148-34.08  94.708-33.58Q 95.258-33.07  95.258-32.16L 95.258-32.16L 95.258-1.68Q 95.258-0.77  94.708-0.26Q 94.148 0.24  93.338 0.24L 93.338 0.24ZM 109.204 0.34Q 105.884 0.34  103.364-1.15Q 100.844-2.64  99.484-5.4Q 98.114-8.16  98.114-11.81L 98.114-11.81Q 98.114-15.46  99.484-18.22Q 100.844-20.98  103.364-22.46Q 105.884-23.95  109.204-23.95L 109.204-23.95Q 112.514-23.95  115.054-22.46Q 117.604-20.98  118.964-18.22Q 120.334-15.46  120.334-11.81L 120.334-11.81Q 120.334-8.16  118.964-5.4Q 117.604-2.64  115.054-1.15Q 112.514 0.34  109.204 0.34L 109.204 0.34ZM 109.204-2.88Q 112.654-2.88  114.504-5.16Q 116.354-7.44  116.354-11.81L 116.354-11.81Q 116.354-16.08  114.484-18.41Q 112.604-20.74  109.204-20.74L 109.204-20.74Q 105.794-20.74  103.924-18.41Q 102.044-16.08  102.044-11.81L 102.044-11.81Q 102.044-7.49  103.894-5.18Q 105.744-2.88  109.204-2.88L 109.204-2.88ZM 139.706-22.66Q 140.236-23.81  141.386-23.81L 141.386-23.81Q 142.106-23.81  142.676-23.33Q 143.256-22.85  143.256-22.13L 143.256-22.13Q 143.256-21.7  143.066-21.36L 143.066-21.36L 129.576 7.73Q 129.336 8.26  128.876 8.54Q 128.426 8.83  127.946 8.83L 127.946 8.83Q 127.226 8.83  126.676 8.38Q 126.116 7.92  126.116 7.2L 126.116 7.2Q 126.116 6.82  126.316 6.43L 126.316 6.43L 129.676-0.82L 120.166-21.36Q 119.976-21.7  119.976-22.08L 119.976-22.08Q 119.976-22.8  120.626-23.33Q 121.276-23.86  122.036-23.86L 122.036-23.86Q 122.516-23.86  122.976-23.57Q 123.436-23.28  123.676-22.75L 123.676-22.75L 131.686-4.75L 139.706-22.66ZM 162.34-5.42Q 162.86-5.42  163.25-4.99Q 163.63-4.56  163.63-3.89L 163.63-3.89Q 163.63-2.69  161.95-1.68L 161.95-1.68Q 160.22-0.67  158.3-0.17Q 156.38 0.34  154.56 0.34L 154.56 0.34Q 149.14 0.34  145.99-2.88Q 142.85-6.1  142.85-11.76L 142.85-11.76Q 142.85-15.36  144.24-18.12Q 145.63-20.88  148.15-22.42Q 150.67-23.95  153.89-23.95L 153.89-23.95Q 158.45-23.95  161.14-20.98Q 163.82-18  163.82-12.91L 163.82-12.91Q 163.82-11.95  163.44-11.52Q 163.06-11.09  162.19-11.09L 162.19-11.09L 146.74-11.09Q 147.17-2.83  154.56-2.83L 154.56-2.83Q 156.43-2.83  157.78-3.34Q 159.12-3.84  160.66-4.7L 160.66-4.7Q 161.9-5.42  162.34-5.42L 162.34-5.42ZM 153.94-20.93Q 150.86-20.93  149.02-19.01Q 147.17-17.09  146.83-13.58L 146.83-13.58L 160.42-13.58Q 160.32-17.14  158.64-19.03Q 156.96-20.93  153.94-20.93L 153.94-20.93ZM 184.636-5.42Q 185.156-5.42  185.546-4.99Q 185.926-4.56  185.926-3.89L 185.926-3.89Q 185.926-2.69  184.246-1.68L 184.246-1.68Q 182.516-0.67  180.596-0.17Q 178.676 0.34  176.856 0.34L 176.856 0.34Q 171.436 0.34  168.286-2.88Q 165.146-6.1  165.146-11.76L 165.146-11.76Q 165.146-15.36  166.536-18.12Q 167.926-20.88  170.446-22.42Q 172.966-23.95  176.186-23.95L 176.186-23.95Q 180.746-23.95  183.436-20.98Q 186.116-18  186.116-12.91L 186.116-12.91Q 186.116-11.95  185.736-11.52Q 185.356-11.09  184.486-11.09L 184.486-11.09L 169.036-11.09Q 169.466-2.83  176.856-2.83L 176.856-2.83Q 178.726-2.83  180.076-3.34Q 181.416-3.84  182.956-4.7L 182.956-4.7Q 184.196-5.42  184.636-5.42L 184.636-5.42ZM 176.236-20.93Q 173.156-20.93  171.316-19.01Q 169.466-17.09  169.126-13.58L 169.126-13.58L 182.716-13.58Q 182.616-17.14  180.936-19.03Q 179.256-20.93  176.236-20.93L 176.236-20.93ZM 214.512-2.83Q 214.992-2.3  214.992-1.63L 214.992-1.63Q 214.992-0.86  214.412-0.34Q 213.842 0.19  213.072 0.19L 213.072 0.19Q 212.302 0.19  211.682-0.48L 211.682-0.48L 200.732-14.45L 189.742-0.48Q 189.212 0.19  188.352 0.19L 188.352 0.19Q 187.632 0.19  187.052-0.36Q 186.482-0.91  186.482-1.63L 186.482-1.63Q 186.482-2.35  186.912-2.83L 186.912-2.83L 198.432-17.28L 187.532-31.01Q 187.052-31.54  187.052-32.26L 187.052-32.26Q 187.052-32.98  187.612-33.5Q 188.162-34.03  188.882-34.03L 188.882-34.03Q 189.692-34.03  190.272-33.31L 190.272-33.31L 200.732-20.06L 211.152-33.31Q 211.732-34.03  212.542-34.03L 212.542-34.03Q 213.262-34.03  213.842-33.48Q 214.412-32.93  214.412-32.16L 214.412-32.16Q 214.412-31.49  213.982-31.01L 213.982-31.01L 203.042-17.28L 214.512-2.83Z"
					className='hidden sm:inline'>
					</path>
			</svg>
	)
}


function Header({ user, updateState }) {
	const [theme, setTheme] = useState('dark')
	const navigate = useNavigate();

	useEffect(() => {
		const root = window.document.documentElement

		root.classList.remove("light", "dark")
		root.classList.add(theme)

		return
	}, [theme])

	const Logout = () => {
		updateState({
			"id": null,
			"name": "",
			"username": "",
			"email": ""
		});

		navigate('/')
	}

	const toggleTheme = (prev) => {
		setTheme((prev) => (prev === 'light' ? 'dark' : 'light'));
	};
	return (
		<>
			<ThemeProvider
				attribute="class"
				defaultTheme="dark"
				enableSystem
				disableTransitionOnChange>
				<header className="w-full 
									h-12 md:h-20 
									px-4 mx-auto
									flex justify-between items-center
									bg-gradient-to-tl from-gray-900 to-gray-950
									shadow-md shadow-gray-800
									dark:shadow-lg dark:shadow-blue-600/45">
					<div className="container px-1 md:px-8
									flex justify-between items-center">
					<div className="left flex items-center">
							{/* <img src='./assets/logo-no-bg.png' width="200px" height="60px" /> */}
							<Logo />
					</div>
					<nav className="right flex justify-end items-center gap-1 md:gap-4">
						{
							user.id ?
								<Button variant="outline" onClick={Logout}>
										<h6 className='hidden md:block'>Logout</h6>
										<LogOut className="m-0 md:ml-2 
															w-4 h-4" />
								</Button>
								: <></>
						}
						<Button variant="default" size="icon"
							onClick={toggleTheme} >
							{
								theme === 'dark' ?
									<Sun className="h-4 w-4 md:h-4 md:w-4" /> :
									<Moon className="h-4 w-4 md:h-4 md:w-4" />
							}
						</Button>
					</nav>
					</div>
				</header>
			</ThemeProvider>
		</>
	)
}

export default Header